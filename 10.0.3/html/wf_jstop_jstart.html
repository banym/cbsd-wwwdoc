<b>Команды</b>:<br>
<pre>
% cbsd jstart jname=jail1 jail2
% cbsd jstart jail1 jail2 ... jailX

% cbsd jstop jname=jail1 jail2
% cbsd jstop jail1 jail2 ... jailX

% cbsd jrestart
% cbsd jorder
</pre>

<b>Описание</b>:
<br>
<p>Запуск клеток происходит при запуске cbsd/сервера автоматически, если параметр <b>astart</b> (auto-start) соответствующего jail установлен в 1.
Изменить этот параметр можно через cbsd jconfig. При остановке сервера или сервиса <b>cbsdd</b>, автоматически останаваливаются все запущенные клетки.
</p>
<p>Запуск jail вручную производится командой:
<pre>
    % cbsd jstart jname=jail1
</pre>

либо

<pre>
    % cbsd jstart jail1
</pre>

либо
<pre>
    % cbsd jstart jail1 jail2 jail3 ..
</pre>
(для запуска нескольких клеток одной командой)
</p>
<p>Если настройках cbsd ( изменить это поведение можно в cbsd initenv-tui ) параметр <b>parallel=0</b>, то в случае запуска нескольких клеток, запуск/останов будет проходить последовательно.
Это не всегда удобно и даже может быть опасно, поскольку любая ошибка внутри запускаемой клетки в rc-скриптах, которая приводит к паузе, способна блокировать запуск/останов следующих клеток.
<p>
В том случае, если <b>parallel</b> имеет ненулевое значение, каждая следующая клетка будет запускаться через <b>N</b> секунд после запуска предыдущей, где <b>N</b> - значение параметра
<i>parallel</i>. По истечению этого таймаута, не зависимо от того, успела ли предыдущая клетка запустится полностью, будет стартовать следуюзая клетка.
</p>
<p>
Для остава клеток используется команда <b>jstop</b>, с аналогичным синтаксисом и поведением:
<pre>
    % cbsd jstop jname=jail1
</pre>

либо

<pre>
    % cbsd jstop jail1
</pre>
либо
<pre>
    % cbsd jstop jail1 jail2 jail3 ..
</pre>
(для останова нескольких клеток одной командой)
</p>
<p>
При большом количестве клеток (особенно баз данных, с такими сервисами как MySQL, redis, cassandra и тд), следует иметь ввиду, что низкое значение <b>parallel</b> (например, меньше 5 секунд)
может породить очень большую дисковую I/O нагрузку, что в сумме может увеличить время запуска всех клеток, чем если бы они запускались последовательно или с более высоким таймаутом.
</p>
<p>Дополнительно, когда через shutdown команду гасится сервер с большим количеством клеток/сервисов, следует принять во внимание низкий таймаут что по-умолчанию на выполнение rc.shutdown последовательности.
В связи с этим, процесс <b>init</b> может прервать выполнение rc-скриптов по этому таймауту, что приведет к некорректному останову клеток. В случае баз данных это может приводить к 
несохранению или повреждению данных. Чтобы этого избежать, <b>/etc/rc.conf</b> мастер-системы следует регулировать параметр <b>rcshutdown_timeout</b> до более приемлемого значения (по-умолчанию: 90 секунд)
</p>
<p>
При отсутствии <b>rcshutdown_timeout</b> в системном <b>/etc/rc.conf</b>, <b>cbsd initenv</b> выставит этот параметр на свое усмотрение автоматически.
</p>
Также, следует иметь ввиду, что при использовании zfs features ( регулируется через cbsd inienv-tui b только на файловой системе ZFS ) неактивная клетка может быть размонтирована. Те, 
каталог <i><b>$workdir/</b>jails-data/jail1-data</i> будет пуст. Если в таком случае требуются данные клетки без ее запуска, по команде <b>zfs list</b> можно посмотреть имя 
соостветствующей файловой системы и выполнить zfs mount <b>fs</b>.

<h3>Очередность запуска клеток</h3>

В cbsd имеется возможность указать, в какой последовательности будут запускаться клетки. Например, вы можете пожелать, чтобы клетка mysqljail и redisjail стартовали раньше чем wwwjail. Данный
функционал реализует <b>cbsd jorder</b> и регулируется в настройке каждой клетки.

//продолжение следует