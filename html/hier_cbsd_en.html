<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<HTML>
<HEAD>
<META http-equiv="content-type" content="text/html; charset=UTF-8">
<META name="Description" content="CBSD Store">
<META name="Keywords" content="CBSD, BSDStore">
<LINK rel="shortcut icon" href="favicon.ico">

<title>CBSD - FreeBSD jails management tools</title>
</HEAD>
<!--# include file="/html/cbsdmenu_en.html" -->
<body>
<!--# include file="/html/translate_en.html" -->
<center><FONT face="verdana,arial,helvetica" size="+1">Layout of cbsd directory</font></center>
<FONT face="verdana,arial,helvetica" size="-1">
<br><br>
<body>

<h3><ins>Layout of cbsd directory</ins><a href="#hier-cbsd"></a></h3>
All these cbsd (including jails) are in the directory, specified in the workdir variable at installation. In our case it /usr/jails. The description of some direcotry in /usr/jails:<br>
<br>
<table border=1>

<tr><td>/usr/jails/.rssh/</td><td>The directory for storage of private keys of remote nodes and configurations for installation of connection with these nodes. 
Files in this catalog are filled at the cbsd node mode=add command (see below)</td></tr>

<tr><td>/usr/jails/.ssh</td><td>Here the private and public key of directly local node is stored. It is formed at an initialization stage at the cbsd initenv command. 
Exactly will take away from here a public key remote hosts at the command of cbsd node mode=add. The name which has been set at the stage initenv in the question nodename should coincide with writing 
name in argument of node= at the cbsd node mode=add command. The name of the file of a key is md5 sum from this name.</td></tr>

<tr><td>basejail</td><td>Here objective files ready to use or bases (result of cbsd buildworld, cbsd installworld or cbsd repo action=get sources=obj, cbsd repo action=get sources=base) are stored
and FreeBSD kernels (result of the cbsd buildkernel, cbsd installkernel or cbsd repo action=get sources=kernel command</td></tr>

<tr><td>etc</td><td>Configuration files necessary for work cbsd</td></tr>

<tr><td>export</td><td>The directory by default in which the jail exported to the file (will remain at the cbsd jexport jname=www command, in this catalog will appear the www.img file)</td></tr>

<tr><td>import</td><td>The directory by default from which jail (will be imported at cbsd jimport jname=img, it will be extracted jail www)</td></tr>

<tr><td>jails</td><td>Mount point for root directory of jails who have readonly base mount (result of mount_nullfs for base/world + mount_nullfs for data jail)</td></tr>

<tr><td>jails-data</td><td>In this directory all these jails have data. For these places it is necessary backup for safety of data. 
Also, if the jails doesn't use base, these directory have root directory for this jails (don't use nullfs)</td></tr>

<tr><td>jails-fstab</td><td>fstab the file for jails. Syntax usual for FreeBSD behind that only an exception that a way to a point of assembling is written concerning jail root
(record <b>/usr/ports /usr/ports nullfs rw 0 0</b> in file fstab.www means that from the master-filesystem of directory /usr/ports will be mounted at jail start in /usr/jails/jails-data/www/usr/ports)</td></tr>

<tr><td>jails-rcconf</td><td>rc.conf a part for jails. These parameters can be changed in the editor convenient for you, or through 
cbsd jset jname param=val command (for example cbsd jset jname=www ip = "192.168.0.2/24"). To change these parameters follows at the switched-off jail.</td></tr>

<tr><td>jails-system</td><td>This directory can contain any auxiliary scripts relating to a jails (for example scripts-wizard-y for control, 
configurators) and also, the jail traffic if ipfw is used. This catalog participates at import/export operations and migration of cages</td></tr>
</table>

</body>
</html>
